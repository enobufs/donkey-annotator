var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,e){a!=Array.prototype&&a!=Object.prototype&&(a[c]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var c=a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var c=function(){};c.prototype=a;return new c};
$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},c={};try{return c.__proto__=a,c.a}catch(e){}return!1};$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,c){a.__proto__=c;if(a.__proto__!==c)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.inherits=function(a,c){a.prototype=$jscomp.objectCreate(c.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var e=$jscomp.setPrototypeOf;e(a,c)}else for(e in c)if("prototype"!=e)if(Object.defineProperties){var g=Object.getOwnPropertyDescriptor(c,e);g&&Object.defineProperty(a,e,g)}else a[e]=c[e];a.superClass_=c.prototype};$jscomp.arrayFromIterator=function(a){for(var c,e=[];!(c=a.next()).done;)e.push(c.value);return e};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var e=0,g={next:function(){if(e<a.length){var k=e++;return{value:c(k,a[k]),done:!1}}g.next=function(){return{done:!0,value:void 0}};return g.next()}};g[Symbol.iterator]=function(){return g};return g};
$jscomp.polyfill=function(a,c,e,g){if(c){e=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var k=a[g];k in e||(e[k]={});e=e[k]}a=a[a.length-1];g=e[a];c=c(g);c!=g&&null!=c&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
(function(a,c){"object"===typeof exports&&"undefined"!==typeof module?c(exports):"function"===typeof define&&define.amd?define(["exports"],c):c(a.rfc6902={})})(this,function(a){function c(b){return b.replace(/~1/g,"/").replace(/~0/g,"~")}function e(b){return b.replace(/~/g,"~0").replace(/\//g,"~1")}function g(b,d){for(var a=[],c=0,p=b.length;c<p;c++)a.push([b[c],d[c]]);return a}function k(b,d){return b.length!==d.length?!1:g(b,d).every(function(b){return n(b[0],b[1])})}function z(b,d){var a=Object.keys(b),
c=Object.keys(d);return k(a,c)?a.every(function(a){return n(b[a],d[a])}):!1}function n(b,d){return b===d?!0:Array.isArray(b)&&Array.isArray(d)?k(b,d):Object(b)===b&&Object(d)===d?z(b,d):!1}function q(b,d,a){Array.isArray(b)?"-"==d?b.push(a):b.splice(d,0,a):b[d]=a}function r(b,d){Array.isArray(b)?b.splice(d,1):delete b[d]}function A(b){b=b.op;return"remove"===b||"replace"===b||"copy"===b||"move"===b}function u(b,d){var a={},c;for(c in b)a[c]=1;for(var p in d)delete a[p];return Object.keys(a)}function B(b){var d=
{};b.forEach(function(b){for(var a in b)d[a]=(d[a]||0)+1});b=b.length;for(var a in d)d[a]<b&&delete d[a];return Object.keys(d)}function v(b){return void 0===b?"undefined":null===b?"null":Array.isArray(b)?"array":typeof b}function C(b,d,a){function c(a,e){var f=h[a+","+e];if(void 0===f){if(n(b[a-1],d[e-1]))f=c(a-1,e-1);else{f=[];if(0<a){var l=c(a-1,e);f.push({operations:l.operations.concat({op:"remove",index:a-1}),cost:l.cost+1})}0<e&&(l=c(a,e-1),f.push({operations:l.operations.concat({op:"add",index:a-
1,value:d[e-1]}),cost:l.cost+1}));0<a&&0<e&&(l=c(a-1,e-1),f.push({operations:l.operations.concat({op:"replace",index:a-1,original:b[a-1],value:d[e-1]}),cost:l.cost+1}));f=f.sort(function(b,a){return b.cost-a.cost})[0]}h[a+","+e]=f}return f}var h={"0,0":{operations:[],cost:0}},e=isNaN(b.length)||0>=b.length?0:b.length,f=isNaN(d.length)||0>=d.length?0:d.length;f=c(e,f).operations;f=$jscomp.makeIterator(f.reduce(function(b,d){var c=$jscomp.makeIterator(b);b=c.next().value;c=c.next().value;if("add"===
d.op){var h=d.index+1+c;d={op:d.op,path:a.add(h<e+c?String(h):"-").toString(),value:d.value};return[b.concat(d),c+1]}if("remove"===d.op)return d={op:d.op,path:a.add(String(d.index+c)).toString()},[b.concat(d),c-1];h=a.add(String(d.index+c));d=t(d.original,d.value,h);return[b.concat.apply(b,$jscomp.arrayFromIterable(d)),c]},[[],0]));var g=f.next().value;f.next();return g}function D(b,d,a){var c=[];u(b,d).forEach(function(b){c.push({op:"remove",path:a.add(b).toString()})});u(d,b).forEach(function(b){c.push({op:"add",
path:a.add(b).toString(),value:d[b]})});B([b,d]).forEach(function(h){c.push.apply(c,$jscomp.arrayFromIterable(t(b[h],d[h],a.add(h))))});return c}function t(b,a,c){var d=v(b),h=v(a);if("array"==d&&"array"==h)return C(b,a,c);if("object"==d&&"object"==h)return D(b,a,c);b=n(b,a)?[]:[{op:"replace",path:c.toString(),value:a}];return b}function w(b,a){b=f.fromJSON(a).evaluate(b);if(void 0!==b)return{op:"test",path:a,value:b.value}}var m=function(b){var a=Error.call(this,"Value required at path: "+b);this.message=
a.message;"stack"in a&&(this.stack=a.stack);this.path=b;this.name="MissingError"};$jscomp.inherits(m,Error);var x=function(b){var a=Error.call(this,"Invalid operation: "+b);this.message=a.message;"stack"in a&&(this.stack=a.stack);this.op=b;this.name="InvalidOperationError"};$jscomp.inherits(x,Error);var y=function(b,a){var d=Error.call(this,"Test failed: "+b+" != "+a);this.message=d.message;"stack"in d&&(this.stack=d.stack);this.actual=b;this.expected=a;this.name="TestError";this.actual=b;this.expected=
a};$jscomp.inherits(y,Error);var f=function(b){this.tokens=b=void 0===b?[""]:b};f.fromJSON=function(b){var a=b.split("/").map(c);if(""!==a[0])throw Error("Invalid JSON Pointer: "+b);return new f(a)};f.prototype.toString=function(){return this.tokens.map(e).join("/")};f.prototype.evaluate=function(b){for(var a=null,c=null,e=1,f=this.tokens.length;e<f;e++)a=b,c=this.tokens[e],b=(a||{})[c];return{parent:a,key:c,value:b}};f.prototype.get=function(b){return this.evaluate(b).value};f.prototype.set=function(b,
a){for(var d=1,c=this.tokens.length-1,e=this.tokens[d];d<c;d++)b=(b||{})[e];b&&(b[this.tokens[this.tokens.length-1]]=a)};f.prototype.push=function(b){this.tokens.push(b)};f.prototype.add=function(b){b=this.tokens.concat(String(b));return new f(b)};var E=Object.freeze({add:function(b,a){b=f.fromJSON(a.path).evaluate(b);if(void 0===b.parent)return new m(a.path);q(b.parent,b.key,a.value);return null},remove:function(b,a){b=f.fromJSON(a.path).evaluate(b);if(void 0===b.value)return new m(a.path);r(b.parent,
b.key);return null},replace:function(b,a){b=f.fromJSON(a.path).evaluate(b);if(void 0===b.value)return new m(a.path);b.parent[b.key]=a.value;return null},move:function(b,a){var c=f.fromJSON(a.from).evaluate(b);if(void 0===c.value)return new m(a.from);b=f.fromJSON(a.path).evaluate(b);if(void 0===b.parent)return new m(a.path);r(c.parent,c.key);q(b.parent,b.key,c.value);return null},copy:function(a,c){var b=f.fromJSON(c.from).evaluate(a);if(void 0===b.value)return new m(c.from);a=f.fromJSON(c.path).evaluate(a);
if(void 0===a.parent)return new m(c.path);r(b.parent,b.key);q(a.parent,a.key,b.value);return null},test:function(a,c){a=f.fromJSON(c.path).evaluate(a);return n(a.value,c.value)?null:new y(a.value,c.value)}});a.applyPatch=function(a,c){return c.map(function(b){var c=E[b.op];return void 0===c?new x(b.op):c(a,b)})};a.createPatch=function(a,c){var b=new f;return t(a,c,b)};a.createTests=function(a,c){var b=[];c.filter(A).forEach(function(c){var d=w(a,c.path);d&&b.push(d);"from"in c&&(c=w(a,c.from))&&b.push(c)});
return b};Object.defineProperty(a,"__esModule",{value:!0})});
